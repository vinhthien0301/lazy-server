extends layout
block css
    link(rel="stylesheet" href="assets/app/vendor/select2/select2.css")
    link(rel="stylesheet" href="assets/app/vendor/jquery-datatables-bs3/assets/css/datatables.css")
    link(rel="stylesheet" href="assets/app/vendor/pnotify/pnotify.custom.css")
    link(rel="stylesheet" href="assets/app/css/utility.css")
block info
    script.
        var email = "!{email}"
        var page_name = "eventManagement_page"
block header
    header.page-header
        h2 Danh sách sự kiện
        div(class="right-wrapper pull-right")
            ol.breadcrumbs
                li
                    a(href="dashboard")
                        i(class="fa fa-home")
                li
                    span Danh sách sự kiện

            a(class="sidebar-right-toggle" data-open="sidebar-right")
                i(class="fa fa-chevron-left")

block content
    script.
        function watch(id) {
            window.location.href = "/eventManagementEdit?id=" + id;
        }
    
    // start: page
    section.panel
        div.panel-body
            table.table.table-bordered.table-striped.mb-none#datatable-tabletools()
                thead
                    tr
                        th Tên máy
                        th Sự kiện
                        th Machine id
                        th Ngày
                        th Hành động

                tbody
                    each obj in data
                        tr.gradeX
                            td #{obj.machine_name}
                            td #{obj.event_code}
                            td #{obj.machine_id}
                            td #{obj.time.date} #{obj.time.time}
                            td(class="actions" on)
                                button(type="button" class="mb-xs mt-xs mr-xs btn btn-default" onclick='watch("'+obj.id+'")')
                                    i(class="fa fa-pencil" ) xem chi tiết


block JS
    script(src="assets/app/vendor/select2/select2.js")
    script(src="assets/app/vendor/jquery-datatables/media/js/jquery.dataTables.js")
    script(src="assets/app/vendor/jquery-datatables/extras/TableTools/js/dataTables.tableTools.min.js")
    script(src="assets/app/vendor/jquery-datatables-bs3/assets/js/datatables.js")

    script(src="assets/app/vendor/pnotify/pnotify.custom.js")
    script(src="js/eventManagementPage.js")
